<html><head><title>Remove Duplicates from Sorted Array II</title>
<!-- BEGIN COPY/PASTE FROM CORDOVA  -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *"><meta name="format-detection" content="telephone=no"><meta name="msapplication-tap-highlight" content="no"><meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
<!-- END COPY/PASTE FROM CORDOVA  -->
</head><link href="../../viewer/prism.css" rel="stylesheet" /><link href="../../viewer/styles.css" rel="stylesheet" /><body><h2><a href="https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/" target="_blank">Remove Duplicates from Sorted Array II</a></h2><div><a href="javascript:history.back()">Back...</a></div><div>&#160;</div><div class="headline">Problem:</div><div>
              <p></p><p>
Follow up for &quot;Remove Duplicates&quot;:<br>
What if duplicates are allowed at most <i>twice</i>?</p>

<p>
For example,<br>
Given sorted array <i>nums</i> = <code>[1,1,1,2,2,3]</code>,
</p>
<p>
Your function should return length = <code>5</code>, with the first five elements of <i>nums</i> being <code>1</code>, <code>1</code>, <code>2</code>, <code>2</code> and <code>3</code>. It doesn&apos;t matter what you leave beyond the new length.
</p><p></p>
              
                <div>
                  
                </div>
              

              
                <div>
                  <div id="tags" class="btn btn-xs btn-warning"></div>
                  <span class="hidebutton"></span>
                </div>
              

              

            </div><div class="headline">Solution:</div><div><a href="#" onclick="showSolution(this)">Show...</a></div><div id="solution"><pre><code class="language-javascript">//
// https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/
//

/**
 * @param {number[]} nums
 * @return {number}
 */
var removeDuplicates = function (nums) {
  var firstIndex = 0, result = [];
  nums.forEach(function (curr, index, arr) {
    if (arr[index] === arr[index - 1]) {
      if (index === firstIndex + 1) {
        result.push(curr);
      }
    } else {
      firstIndex = index;
      result.push(curr);
    }
  });
  return result;
};

console.log(removeDuplicates([1, 1]));

//console.log(removeDuplicates([]));
//console.log(removeDuplicates([1]));
//console.log(removeDuplicates([1, 1]));
//console.log(removeDuplicates([1, 2, 3]));
//console.log(removeDuplicates([1, 1, 2, 2, 3, 5]));
//console.log(removeDuplicates([1, 1, 1, 2, 2, 2, 3, 5, 5]));</code></pre></div><footer><span style="float: right;"><a href="https://github.com/floydpink" target="_blank">&copy; Floyd Pink</a></span></footer><script type="text/javascript" src="../../cordova.js"></script><script src="../../viewer/prism.js"></script><script src="../../viewer/scripts.js"></script></body></html>